// Place your key bindings in this file to override the defaults
// For all available commands, do:
//  [Ctrl+P] > Open Default Keyboard Shortcuts(JSON) _or_ [Ctrl+F1] as defined below.
[
  // window navigation, based on https://neovim.io/doc/user/windows.html
  {
    "key": "ctrl+w s",
    "command": "workbench.action.splitEditorRight",
    "when": "editorFocus"
  },
  {
    "key": "ctrl+w v",
    "command": "workbench.action.splitEditorDown",
    "when": "editorFocus"
  },
  {
    "key": "ctrl+w ctrl+n",
    "command": "workbench.action.files.newUntitledFile"
  },
  {
    "key": "ctrl+w q",
    "command": "workbench.action.closeActiveEditor",
  },
  // ctrl+w c ???
  {
    // close all other editors in this group
    "key": "ctrl+w o",
    "command": "workbench.action.closeOtherEditors",
    "when": "editorFocus"
  },
  {
    "key": "ctrl+w shift+o",
    "command": "workbench.action.closeEditorsInOtherGroups",
    "when": "editorFocus"
  },
  {
    "key": "ctrl+w k",
    "command": "workbench.action.focusAbove",
    "when": "editorFocus"
  },
  {
    "key": "ctrl+w j",
    "command": "workbench.action.focusBelowGroup",
    "when": "editorFocus"
  },
  {
    "key": "ctrl+w h",
    "command": "workbench.action.focusLeftGroup",
    "when": "editorFocus"
  },
  {
    "key": "ctrl+w l",
    "command": "workbench.action.focusRightGroup",
    "when": "editorFocus"
  },
  {
    "key": "ctrl+w w",
    "command": "workbench.action.focusNextGroup",
    "when": "editorFocus"
  },
  {
    "key": "ctrl+w shift+w",
    "command": "workbench.action.focusPreviousGroup",
    "when": "editorFocus"
  },
  {
    "key": "ctrl+w t",
    "command": "workbench.action.focusFirstEditorGroup",
    "when": "editorFocus"
  },
  {
    "key": "ctrl+w b",
    "command": "workbench.action.focusLastEditorGroup",
    "when": "editorFocus"
  },
  {
    "key": "ctrl+w p",
    "command": "workbench.action.openPreviousRecentlyUsedEditorInGroup",
    "when": "editorFocus"
  },
  {
    "key": "ctrl+w r",
    "command": "workbench.action.moveEditorToNextGroup",
    "when": "editorFocus"
  },
  {
    "key": "ctrl+w shift+r",
    "command": "workbench.action.moveEditorToPreviousGroup",
    "when": "editorFocus"
  },
  {
    "key": "ctrl+w x",
    "command": "workbench.action.compareEditor.swapSides",
    "when": "editorFocus"
  },
  {
    "key": "ctrl+w shift+k",
    "command": "workbench.action.moveActiveEditorGroupUp",
    "when": "editorFocus"
  },
  {
    "key": "ctrl+w shift+j",
    "command": "workbench.action.moveActiveEditorGroupDown",
    "when": "editorFocus"
  },
  {
    "key": "ctrl+w shift+h",
    "command": "workbench.action.moveActiveEditorGroupLeft",
    "when": "editorFocus"
  },
  {
    "key": "ctrl+w shift+l",
    "command": "workbench.action.moveActiveEditorGroupRight",
    "when": "editorFocus"
  },
  {
    "key": "ctrl+w =",
    "command": "workbench.action.evenEditorWidths",
    "when": "editorTextFocus"
  },
  {
    "key": "ctrl+w -",
    "command": "workbench.action.decreaseViewHeight",
    "when": "editorFocus"
  },
  {
    "key": "ctrl+w shift+=",
    "command": "workbench.action.increaseViewHeight",
    "when": "editorFocus"
  },
  {
    "key": "ctrl+w shift+.",
    "command": "workbench.action.increaseViewWidth",
    "when": "editorFocus"
  },
  {
    "key": "ctrl+w shift+,",
    "command": "workbench.action.decreaseViewWidth",
    "when": "editorFocus"
  },
  {
    "key": "ctrl+w shift+\\",
    "command": "workbench.action.editorLayoutSingle",
    "when": "editorFocus"
  },
  // additional commands
  {
    "key": "ctrl+w ;",
    "command": "workbench.action.terminal.focus",
    "when": "editorFocus"
  },
  {
    "key": "ctrl+w ;",
    "command": "workbench.action.focusActiveEditorGroup",
    "when": "terminalFocus"
  },
  {
    "key": "ctrl+\\",
    "command": "-workbench.action.splitEditor"
  },
  {
    "key": "ctrl+w z",
    "command": "workbench.action.toggleEditorWidths",
    "when": "editorFocus"
  },
  {
    "key": "ctrl+w \\",
    "command": "workbench.action.showAllEditorsByMostRecentlyUsed"
  },
  {
    "key": "ctrl+w tab",
    "command": "workbench.action.nextEditorInGroup",
    "when": "editorFocus"
  },
  {
    "key": "ctrl+w shift+tab",
    "command": "workbench.action.previousEditorInGroup"
  },
  {
    "key": "ctrl+/",
    "command": "-editor.action.blockComment",
    "when": "editorTextFocus && !editorReadonly && editorHasSelection"
  },
  {
    "key": "ctrl+/",
    "command": "editor.action.commentLine",
    "when": "editorTextFocus && !editorReadonly && editorHasSelection"
  },
  {
    "key": "tab",
    "command": "editor.action.inlineSuggest.commit",
    "when": "textInputFocus && inlineSuggestionHasIndentationLessThanTabSize && inlineSuggestionVisible && !editorTabMovesFocus"
  },
  {
    "key": "ctrl+alt+down",
    "command": "-workbench.action.files.newUntitledFile"
  },
  // code debugging
  {
    // based on https://neovim.io/doc/user/windows.html#CTRL-W_%7D
    "key": "ctrl+; ]",
    "command": "editor.action.marker.next",
    "when": "editorFocus"
  },
  {
    "key": "ctrl+; shift+]",
    "command": "editor.action.marker.prev",
    "when": "editorFocus"
  },
  {
    "key": "ctrl+; '",
    "command": "editor.action.revealDefinitionAside",
    "when": "editorFocus"
  },
  {
    "key": "ctrl+; shift+'",
    "command": "editor.action.peekTypeDefinition",
    "when": "editorFocus"
  },
  {
    "key": "ctrl+; d",
    "command": "testing.debugSelected",
    "when": "editorTextFocus"
  },
  {
    "key": "ctrl+; shift+d",
    "command": "testing.debugCurrentFile",
    "when": "editorTextFocus"
  },
  {
    "key": "ctrl+; b",
    "command": "editor.debug.action.toggleBreakpoint",
    "when": "editorTextFocus"
  },
  {
    "key": "ctrl+; e",
    "command": "editor.debug.action.editBreakpoint",
    "when": "editorTextFocus"
  },
  {
    "key": "ctrl+; w",
    "command": "debug.setWatchExpression",
    "when": "editorTextFocus"
  },
  // actions based on https://github.com/mfussenegger/nvim-dap?tab=readme-ov-file#usage
  { // ▶
    "key": "ctrl+l",
    "command": "workbench.action.debug.continue",
    "when": "inDebugMode && editorTextFocus && debugState == 'stopped'"
  },
  { // ↷
    "key": "ctrl+h",
    "command": "workbench.action.debug.stepOver",
    "when": "inDebugMode && editorTextFocus && debugState == 'stopped'"
  },
  { // ↓
    "key": "ctrl+j",
    "command": "workbench.action.debug.stepInto",
    "when": "inDebugMode && editorTextFocus && debugState == 'stopped'"
  },
  { // ↑
    "key": "ctrl+k",
    "command": "workbench.action.debug.stepOut",
    "when": "inDebugMode && editorTextFocus && debugState == 'stopped'"
  },
  { // ↺
    "key": "ctrl+r",
    "command": "workbench.action.debug.restart",
    "when": "inDebugMode && editorTextFocus && debugState != 'inactive'"
  },
  {
    "key": "ctrl+q",
    "command": "workbench.action.debug.disconnect",
    "when": "inDebugMode && editorTextFocus && debugState != 'inactive'"
  },
  // other
  {
    "key": "q",
    "command": "editor.action.inlineSuggest.hide",
    "when": "inlineSuggestionVisible"
  },
  {
    "key": "ctrl+f1",
    "command": "workbench.action.openDefaultKeybindingsFile"
  },
  {
    "key": "ctrl+pageup",
    "command": "-workbench.action.previousEditor"
  },
  {
    "key": "ctrl+shift+/",
    "command": "workbench.action.openGlobalKeybindings",
    "when": "editorFocus"
  },

  // { "key": "ctrl+w shift+k", "command": "current window to top full width" },
  // { "key": "ctrl+w shift+j", "command": "current window to bottom full width" },
  // { "key": "ctrl+w shift+h", "command": "current window to left full height" },
  // { "key": "ctrl+w shift+l", "command": "current window to right full height" },
  // { "key": "ctrl+w _", "command": "maximize current window height" },
]
